---
# If true, the FSM transitions are managed by an external tool
Managed: false
# If true and the FSM is self-managed, transitions should be triggered
StepByStep: true
# Change idle behaviour, if true the state is kept until transition,
# otherwise the FSM holds the last state until transition
IdleKeepState: true
# Where to look for state libraries
StatesLibraries:
  - "@MC_STATES_DEFAULT_INSTALL_PREFIX@"
  - "@CATKIN_DEVEL_PREFIX@/lib/@PROJECT_NAME@/states"
# Where to look for state files
StatesFiles:
  - "@MC_STATES_DEFAULT_INSTALL_PREFIX@/data"
  - "@CATKIN_DEVEL_PREFIX@/lib/@PROJECT_NAME@/states/data"
# If true, state factory will be more verbose
VerboseStateFactory: false
# Additional robots to load
robots:
  ground:
    module: env/ground
# General constraints, always on
constraints:
  - type: contact
  - type: kinematics
    damper: [0.1, 0.01, 0.5]
  - type: compoundJoint
# Collision constraint
collisions:
  - type: collision
    useMinimal: true
# Initial set of contacts
contacts: [] # Add contacts in controller to retrieve the surface name automatically

# Implement some additional text states
# states:
# Transitions map
transitions:
  - [BWC::Initial, OK, BWC::Command, Auto]
# Initial state
init: BWC::Initial

# ObserverPipelines are configured in parallel with the controller,
# so the configuration cannot be overridden in the controller constructor.
ObserverPipelines:
  name: MainObserverPipeline
  gui: false
  observers:
    - type: Encoder
    - type: KinematicInertial
      config:
        anchorFrame:
          maxAnchorFrameDiscontinuity: 0.05 # [m]

MotionPlayer:
  footstepDuration: 1.6 # [sec]
  doubleSupportRatio: 0.4 # []
  midToFootTransLeft:
    translation: [0, 0.105, 0] # [m]
  midToFootTransRight:
    translation: [0, -0.105, 0] # [m]
  ddpHorizonDuration: 2.0 # [sec]
  ddpHorizonDt: 0.02 # [sec]
  refComHeight: 0.95 # [m]

FootstepManager:
  horizon: 3.0 # [sec]
  swingHeight: 0.05 # [m]
  swingInitialLiftHeight: 0.015 # [m]
  swingInitialLiftDuration: 0.2 # [sec]
  overwriteFootstance: true
  supportFootZmpOffset: [0, -0.02, 0] # [m] (positive for x-forward, y-outside)
  touchDownRemainingDuration: 0.2 # [sec]
  touchDownPosError: 0.02 # [m]
  touchDownFz: 100 # [N]

# AdditionalConfigurationFiles:
#  - "@PROJECT_SOURCE_DIR@/etc/additional"

# OverwriteConfigKeys: []

# OverwriteConfigList:
#   hrp5_p:
#   hrp2_drc:
